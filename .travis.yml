language: node_js
node_js:
  - '8'
install: ./build/npm-install.sh
script:
  - npm run deploy
after_script:
  - node ./node_modules/coveralls/bin/coveralls.js -v < ./reports/report-lcov/lcov.info
deploy:
  - provider: npm
    skip_cleanup: true
    email: comindware-awesome-bot@comindware.com
    api_key:
      secure: NsFR3QWvmOqEvTLc20cDC1cTR6JcPZ211B9PscwcFYGWHrUW1vTCYtpYK4oWkHBEu9QKzm8U06GPmO6dTrd706EH/gbEpzlTrGSlMcGnWYPg25/61uzpKU+HCBicgt3wbUqIUx+3pM1nAUby8gxTjuf7LTJ4aHzhFFlE5Sp8tmnjZgOz9C7/EB/wO26G+7uY7f9tHk+RfwnU4h6sbfRrvgi4kcXreeOyOX4Qb9dBX4ar4H1ijK4FiGmMwt4buALZ3Bz3dhYuzxdMbJpTKb7mf5urRmN5clDmx6Fu63Qn/5BBcnhuw9/wp296pSin48vCpeh3cMqrFYs46fZ6Y2NRpVVujemYAZi8NgsAJ2E1UYw5uwftQvHM1+lBn37DDNws3I1tAcFGVn+e5dB8LQn0uh4hp5Y/oS3JsoAF5COEK4Xx687T/ik+2rXXXUqTIwqBVCdXHYcqakFG3MNtjRCO/0jANwYesC0VhEb0Q2PPD/T15Y6tkA0LwI/6jodbVicF3ICGmMVswESCJBRAjdet/P/hCsFRgfrS3qT2e/ENdsyULdp0U1n8JKxQYX7R/ht23z3WNe1qOVRlsNFYVFCLGniK7S8Qq8XLh7D9XePBd88eJ6697L9rjx6KE5UrUcNAjDB44P/GP7Otf7ytCMnkCuLrZYEq+Mcl1c018gs7oQY=
    on:
      tags: true
      repo: comindware/core-ui
      branch: 1.4/release
  - provider: script
    script: npm run deploy:pages
    skip_cleanup: true
    on:
      tags: true
      repo: comindware/core-ui
      branch: 1.4/release
